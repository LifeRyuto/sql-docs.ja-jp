---
title: SQL Server Data Tools での analysis Services ワークスペース データベース |Microsoft Docs
ms.date: 09/17/2018
ms.prod: sql
ms.technology: analysis-services
ms.custom: tabular-models
ms.topic: conceptual
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: b3f9d94d35d5aaa4ea86cf1f1d9dc845b67eaf4f
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "68162352"
---
# <a name="workspace-database"></a>[ワークスペース データベース]

[!INCLUDE[ssas-appliesto-sqlas-aas](../../includes/ssas-appliesto-sqlas-aas.md)]
  モデルの作成時に使用されるテーブル モデル ワークスペース データベースは、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]で新しいテーブル モデル プロジェクトを作成したときに作成されます。
  
## <a name="specifying-a-workspace-instance"></a>ワークスペースのインスタンスを指定する  

  SSDT で新しいテーブル モデル プロジェクトを作成する場合は、プロジェクトを作成するときに使用する Analysis Services インスタンスを指定できます。 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]の 2016 年 9 月リリース (14.0.60918.0) 以降、新しいテーブル モデル プロジェクトを作成するときにワークスペースのインスタンスを指定するための 2 つのモードが導入されています。 

**統合ワークスペース**- 推奨します。 SSDT の内部 Analysis Services インスタンスで使用します。 Azure Analysis Services に配置するプロジェクトを作成する場合は、この設定を使用します。

**ワークスペース サーバー** - 明示的な Analysis Services インスタンスにワークスペース データベースを作成します。これは多くの場合、SSDT と同じコンピューターか同じネットワーク内の別のコンピューター上です。 Azure Analysis Services サーバーを指定できますが、中には推奨されません。 
  
### <a name="integrated-workspace"></a>統合ワークスペース

統合ワークスペースでは、SSDT 独自の暗黙的な Analysis Services インスタンスを使用して、メモリ内に作業データベースを作成します。 統合ワークスペース モードでは、別の明示的な Analysis Services サーバーが必要ないために、SSDT で表形式プロジェクトの作成の複雑さが大幅に減少します。

統合ワークスペース モードを使用すると、SSDT テーブルによって独自の内部 SSAS インスタンスがバックグラウンドで動的に起動し、データベースが読み込まれます。 モデル デザイナーでテーブル、列、データの追加と表示ができます。 テーブル、列、リレーションシップなどを追加すると、ワークスペース データベースも変更されます。 統合ワークスペース モードを使用しても、SSDT テーブルがワークスペース サーバーおよびデータベースと連動するしくみは変わりません。 変わるのは、SSDT テーブルがワークスペース データベースをホストする場所です。

SSDT で新しいテーブル モデル プロジェクトを作成するときに、統合ワークスペース モードを選ぶことができます。

![SSAS の統合ワークスペース モード](../../analysis-services/tabular-models/media/ssas-integrated-workspace-mode.png)

model.bim の [ワークスペース データベース] と [ワークスペース サーバー] プロパティを使って、一時的なデータベースの名前と、SSDT テーブルがデータベースをホストする内部 SSAS インスタンスの TCP ポートを検出できます。 SSDT テーブルにワークスペース データベースが読み込まれている限り、SSMS でデータベースに接続できます。 [ワークスペースの保有期間] 設定は、SSDT テーブルがモデル プロジェクトを閉じた後、ワークスペース データベースをディスク上に保持し、メモリには残さないように指定します。 これにより、モデルを常にメモリに保持する場合よりもメモリの消費を抑えることができます。 これらの設定を制御するには、統合ワークスペース モード プロパティを False に設定して明示的ワークスペース サーバーを提供します。 明示的ワークスペース サーバーを感覚がモデルにインポートするデータが SSDT ワークステーションのメモリ容量を超える場合こともできます。

> [!NOTE]  
>  統合ワークスペース モードを使用する場合は、SSDT の Visual Studio の 32 ビット環境で実行中に、64 ビットが、ローカルの Analysis Services インスタンス。 特別なデータ ソースに接続する場合は、対応するデータ プロバイダーの 32 ビット バージョンと 64 ビット バージョンの両方をワークステーションに必ずインストールするようにしてください。 64 ビットの Analysis Services インスタンスの 64 ビット プロバイダーが必要と、32 ビット バージョンは、SSDT でテーブルのインポート ウィザードに必要です。

###  <a name="bkmk_overview"></a> ワークスペース サーバー


 ワークスペース データベースは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のいずれかのテーブル モデル プロジェクト テンプレートを使用して新しい Business Intelligence プロジェクトを作成するときに、ワークスペース サーバーで指定された [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]インスタンスに作成されます。 各テーブル モデル プロジェクトには独自のワークスペース データベースがあります。 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] を使用して、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] でワークスペース データベースを表示できます。 ワークスペース データベースの名前には、プロジェクト名、アンダースコア、ユーザー名、アンダースコア、GUID がこの順序で含まれています。  
  
 ワークスペース データベースは、テーブル モデル プロジェクトを [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]で開いているときにメモリ内に存在します。 プロジェクトを閉じると、ワークスペース データベースは、メモリ内に保持されディスクに格納されてメモリから削除される (既定) か、ワークスペースの保有期間のプロパティで決められているとおりにメモリから削除されてディスクに格納されません。 ワークスペースの保有期間のプロパティの詳細については、このトピックの「 [ワークスペース データベースのプロパティ](#bkmk_ws_prop) 」を参照してください。  
  
 テーブルのインポート ウィザードを使用するか、コピー/貼り付けを行って、モデル プロジェクトにデータを追加後、モデル デザイナーでテーブル、列、データを表示すると、ワークスペース データベースが表示されます。 追加のテーブル、列、リレーションシップなどを追加すると、ワークスペース データベースも変更されます。  
  
 テーブル モデル プロジェクトを配置すると、基本的にワークスペース データベースのコピーである配置済みのモデル データベースが、配置サーバー プロパティに指定された Analysis Services サーバー インスタンスに作成されます。 配置サーバー プロパティの詳細については、次を参照してください。[プロジェクト プロパティ](../../analysis-services/tabular-models/project-properties-ssas-tabular.md)します。  
  
 通常、モデル ワークスペース データベースは [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバーの localhost またはローカルの名前付きインスタンスに存在します。 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のリモート インスタンスを使用してワークスペース データベースをホストできますが、データのクエリ中の待機時間とその他の制約のため、この構成はお勧めしません。 最適に、ワークスペース データベースをホストする [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のインスタンスが [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]と同じコンピューター上にあります。 ワークスペース データベースをホストする [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] インスタンスと同じコンピューター上にモデル プロジェクトを作成すると、パフォーマンスが向上します。  
  
 リモートのワークスペース データベースには、次の制約があります。  
  
-   クエリ中に待機時間が発生する可能性があります。  
  
-   データ バックアップ プロパティを **[ディスクにバックアップする]** に設定できません。  
  
-   [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] からのインポート プロジェクト テンプレートを使用して新しいテーブル モデル プロジェクトを作成するときに、 [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] ブックからデータをインポートすることはできません。  
  
  > [!IMPORTANT]  
>  モデルの互換性レベルとワークスペース サーバーが対応している必要があります。
  
> [!NOTE]  
>  膨大な数の行を格納するテーブルがモデルに存在する場合、モデルの作成中はデータの一部だけをインポートするようにお勧めします。 データの一部のみをインポートすることによって、処理時間を短縮し、ワークスペース データベースのサーバー リソースの消費を抑えることができます。  
  
> [!NOTE]  
>  テーブルのインポート ウィザード、[テーブルのプロパティの編集] ダイアログ ボックス、および [パーティション マネージャー] ダイアログ ボックスの [テーブルとビューの選択] ページのプレビュー ウィンドウには、データ ソースのテーブル、列、および行が表示されますが、ワークスペース データベースと同じテーブル、列、および行が表示されない場合があります。  
  
  
##  <a name="bkmk_ws_prop"></a> ワークスペース データベースのプロパティ  
 ワークスペース データベースのプロパティは、モデルのプロパティに含まれます。 モデルのプロパティを表示するには、 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]の **ソリューション エクスプローラー**で **Model.bim** ファイルをクリックします。 モデルのプロパティは **[プロパティ]** ウィンドウを使用して構成できます。 ワークスペース データベース固有のプロパティには、次のものが含まれます。  
  
> [!NOTE]  
>  **[統合ワークスペース モード]** 、 **[ワークスペース サーバー]** 、 **[ワークスペースの保有期間]** 、 **[データ バックアップ]** の各プロパティには、新しいモデル プロジェクトを作成するときに既定の設定が適用されます。 [ツール] メニューから開く [オプション] ダイアログ ボックスで、 **[分析サーバー]** 設定の **[データ モデリング]** ページを使用して、新しいモデル プロジェクトの既定の設定を変更できます。 他のプロパティと同様に、これらのプロパティは **[プロパティ]** ウィンドウでモデル プロジェクトごとに設定することもできます。 既定の設定の変更は、作成済みのモデル プロジェクトには適用されません。 詳細については、次を参照してください。[既定のデータ モデリングとデプロイのプロパティを構成する](../../analysis-services/tabular-models/configure-default-data-modeling-and-deployment-properties-ssas-tabular.md)します。  
  
|プロパティ|既定の設定|説明|  
|--------------|---------------------|-----------------|  
|**[統合ワークスペース モード]**|True、False|プロジェクトの作成時にワークスペース データベースに統合ワークスペース モードを選ぶと、このプロパティは True になります。 プロジェクトの作成時に **[ワークスペース サーバー]** モードを選ぶと、このプロパティは False になります。 | 
|**[ワークスペース データベース]**|名前|ワークスペース データベースの名前。 このプロパティは、 **[統合ワークスペース モード]** が **True**のときは、編集できません。|  
|**ワークスペースの保有期間**|メモリからアンロード|モデル プロジェクトが閉じられた後でワークスペース データベースを保持する方法を指定します。 ワークスペース データベースには、モデル メタデータとインポートされたデータが含まれています。 場合によっては、ワークスペース データベースは非常に大きくなり、大量のメモリを消費することがあります。 既定では、 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]でモデル プロジェクトを閉じると、ワークスペース データベースはメモリからアンロードされます。 この設定を変更するときには、使用可能なメモリ リソースと、モデル プロジェクトに対する作業を行う頻度を考慮することが重要です。 このプロパティの設定には、以下のオプションがあります。<br /><br /> **メモリに保持** - モデル プロジェクトを閉じた後もワークスペース データベースをメモリ内に保持するように指定します。 このオプションはより多くのメモリを消費しますが、 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]でモデル プロジェクトを開くときのリソース消費が少なくて済み、ワークスペース データベースの読み込みも高速になります。<br /><br /> **メモリからアンロード** - モデル プロジェクトを閉じた後、ワークスペース データベースをディスク上に保持し、メモリには残さないように指定します。 このオプションはメモリの消費量は比較的少なくて済みますが、 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]でモデル プロジェクトを開くときにワークスペース データベースを再度接続する必要があるため、リソース消費が増え、ワークスペース データベースをメモリ内に保持した場合と比べて、モデル プロジェクトの読み込みにも時間がかかるようになります。 メモリ内のリソースが制限されている場合、またはリモートのワークスペース データベースで作業する場合に、このオプションを使用します。<br /><br /> **ワークスペースの削除** - モデル プロジェクトを閉じた後、メモリからワークスペース データベースを削除し、ディスク上にもワークスペース データベースを保持しないように指定します。 このオプションはメモリとストレージ領域の消費量が比較的少なくて済みますが、 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]でモデル プロジェクトを開くときのリソース消費が増え、ワークスペース データベースをメモリ内やディスク上に保持した場合と比べて、モデル プロジェクトの読み込みにも時間がかかるようになります。 このオプションは、モデル プロジェクトの使用時、必要な場合にのみ使用してください。<br /><br /> このプロパティの既定の設定は、[ツール] メニューから開く [オプション] ダイアログ ボックスで、 **[分析サーバー]** 設定の **[データ モデリング]** ページを使用して変更できます。 このプロパティは、 **[統合ワークスペース モード]** が **True**のときは、編集できません。|  
|**Workspace Server**|localhost|このプロパティは、 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]でモデル プロジェクトが作成されるときにワークスペース データベースをホストするのに使用される既定のサーバーを指定します。 ローカル コンピューターで実行されている [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の使用可能なすべてのインスタンスが、このボックスの一覧に表示されます。<br /><br /> テーブル モードで実行されている別の [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバーを指定するには、サーバー名を入力します。 ログオンするユーザーは [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバーの管理者である必要があります。<br /><br /> ワークスペース サーバーとして、ローカルの [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバーを指定することをお勧めします。 リモート サーバー上のワークスペース データベースでは、 [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] からのインポートはサポートされておらず、データはローカルにバックアップされず、クエリ中にユーザー インターフェイスで遅延が発生する場合があります。<br /><br /> このプロパティの既定の設定は、[ツール] メニューから開く [オプション] ダイアログ ボックスで、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 設定の [データ モデリング] ページを使用して変更できます。 このプロパティは、 **[統合ワークスペース モード]** が **True**のときは、編集できません。|  
  
##  <a name="bkmk_use_ssms"></a> SSMS を使用したワークスペース データベースの管理  
 SQL Server Management Studio (SSMS) を使用して、ワークスペース データベースをホストする [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバーに接続できます。 通常、ワークスペース データベースは必ずしも管理されません。例外は、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]から実行する必要のあるワークスペース データベースのデタッチまたは削除です。 モデル デザイナーでプロジェクトを開いているときに、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] を使用してワークスペース データベースを管理しないでください。 このような操作により、データが失われることがあります。
   
## <a name="see-also"></a>関連項目  
[モデルのプロパティ](../../analysis-services/tabular-models/model-properties-ssas-tabular.md) 
  
  
