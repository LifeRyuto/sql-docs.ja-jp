---
title: 間隔リテラル |マイクロソフトドキュメント
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- data types [ODBC], interval data types
- interval literals [ODBC]
- interval data type [ODBC], literals
ms.assetid: f9e6c3c7-4f98-483f-89d8-ebc5680f021b
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: c1761ac0acb57b3f375a7d19e9371384c000eca5
ms.sourcegitcommit: ce94c2ad7a50945481172782c270b5b0206e61de
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/14/2020
ms.locfileid: "81304943"
---
# <a name="interval-literals"></a>Interval のリテラル
ODBC では、すべてのドライバーが、SQL_CHARまたはSQL_VARCHARデータ型からすべての C 間隔データ型への変換をサポートしている必要があります。 ただし、基になるデータ ソースが間隔データ型をサポートしていない場合は、これらの変換をサポートするために、ドライバーはSQL_CHAR フィールドの値の正しい形式を知っている必要があります。 同様に、ODBC では、ODBC C 型をSQL_CHAR またはSQL_VARCHARに変換できる必要があるため、ドライバーは、文字フィールドに格納されている間隔の形式を知る必要があります。 このセクションでは、C 間隔データ型への変換中にSQL_CHAR フィールドを検証するためにドライバーの作成者が使用する必要がある間隔リテラルの構文について説明します。  
  
> [!NOTE]  
>  インターバル・リテラルの完全な BNF 構文は、「付録 C: SQL 文法」の「[間隔リテラル構文](../../../odbc/reference/appendixes/interval-literal-syntax.md)」セクションに示されています。  
  
 SQL ステートメントの一部として間隔リテラルを渡すために、間隔リテラルにエスケープ文構文が定義されています。 詳細については、「[日付、時刻、およびタイムスタンプのリテラル](../../../odbc/reference/develop-app/date-time-and-timestamp-literals.md)」を参照してください。  
  
 間隔リテラルは次の形式です。  
  
```  
INTERVAL[<sign>] 'value' <interval qualifier>  
```  
  
 ここで"INTERVAL"は、文字リテラルが間隔であることを示します。 符号はプラスまたはマイナスのいずれかです。これは、間隔文字列の外側にあり、オプションです。  
  
 間隔修飾子は、単一の日時フィールドにすることも、2 つの日時フィールドで構成することもできます *>* \< *>。* \<  
  
-   間隔が単一のフィールドで構成されている場合、単一フィールドは、かっこ内のオプションの先頭精度を伴う非秒フィールドにすることができます。 また、単一の datetime フィールドには、オプションの先行精度、括弧内の任意の小数秒精度、またはその両方を伴う 2 番目のフィールドを指定することもできます。 先行精度と秒数の両方の精度が秒フィールドに存在する場合、それらはコンマで区切られます。 秒フィールドの精度が小数秒である場合は、先行精度も必要です。  
  
-   間隔が先行および末尾のフィールドで構成されている場合、先行フィールドは、かっこ内の間隔先行フィールドの精度を伴う可能性がある非秒フィールドです。 末尾のフィールドは、秒以外のフィールドでも、間隔の小数秒精度を括弧で囲んでも付いている可能性のある 2 番目のフィールドのいずれかです。  
  
 *値*の間隔文字列は、単一引用符で囲まれます。 これは、年月リテラルまたは日次リテラルのいずれかです。 *値*の文字列の形式は、次の規則によって決まります。  
  
-   このストリングには、\<*間隔**修飾子*>によって暗黙指定されるすべてのフィールドの 10 進値が含まれます。  
  
-   間隔の精度にフィールド YEAR と MONTH が含まれている場合、これらのフィールドの値は負符号で区切られます。  
  
-   間隔の精度にフィールド DAY と HOUR が含まれている場合、これらのフィールドの値はスペースで区切られます。  
  
-   間隔の精度にフィールド HOUR と下位フィールド (MINUTE と SECOND) が含まれている場合、これらのフィールドの値はコロンで区切られます。  
  
-   間隔の精度に SECOND フィールドが含まれ、明示的または暗黙的な秒精度がゼロ以外の場合、2 番目の小数部分の最初の桁の直前の文字はピリオドになります。  
  
-   フィールドの長さは、次の場合を除いて 2 桁を超える値を指定できません。  
  
    -   先行フィールドの値は、明示または暗黙の間隔先行精度の長さでも可能です。  
  
    -   SECOND フィールドの小数部は、明示または暗黙の秒精度の長さになります。  
  
    -   後続のフィールドは、グレゴリオ暦の通常の制約に従います。 ([グレゴリオ暦の制約を](../../../odbc/reference/appendixes/constraints-of-the-gregorian-calendar.md)参照してください。  
  
 次の表は、ODBC エスケープ句に含まれる有効な間隔リテラルの例を示しています。 エスケープ句の構文は次のとおりです。  
  
> [!NOTE]  
>  *{間隔間隔の間隔の修飾子を示す間隔}*  
  
|リテラルエスケープ句|指定された間隔|  
|---------------------------|------------------------|  
|{インターバル '326' 年(4)}|326 年の間隔を指定します。 間隔の先行精度は 4 です。|  
|{インターバル '326' 月(3)}|326 か月の間隔を指定します。 間隔の先行精度は 3 です。|  
|{インターバル '3261' 日(4)}|3261 日の間隔を指定します。 間隔の先行精度は 4 です。|  
|{インターバル '163' 時(3)}|163 日の間隔を指定します。 間隔の先行精度は 3 です。|  
|{インターバル '163' 分(3)}|163 分の間隔を指定します。 間隔の先行精度は 3 です。|  
|{インターバル '223.16' 秒 (3,2)}|223.16 秒の間隔を指定します。 間隔の先行精度は 3 で、秒精度は 2 です。|  
|{インターバル '163-11' 年(3) から月}|163 年 11 か月の間隔を指定します。 間隔の先行精度は 3 です。|  
|{インターバル '163 12' 日(3) から時間}|163 日と 12 時間の間隔を指定します。 間隔の先行精度は 3 です。|  
|{インターバル '163 12:39' 日(3) から分}|163 日、12 時間、および 39 分の間隔を指定します。 間隔の先行精度は 3 です。|  
|{インターバル '163 12:39:59.163' 日(3) から秒(3)}|163 日、12 時間、39 分、および 59.163 秒の間隔を指定します。 間隔の先行精度は 3 で、秒精度は 3 です。|  
|{インターバル '163:39' 時(3) から分}|163 時間 39 分の間隔を指定します。 間隔の先行精度は 3 です。|  
|{インターバル '163:39:59.163' 時(3) から秒(4)}|163 時間、39 分、および 59.163 秒の間隔を指定します。 間隔の先行精度は 3 で、秒精度は 4 です。|  
|{インターバル '163:59.163' 分(3) から秒(5)}|163 分 59.163 秒の間隔を指定します。 間隔の先行精度は 3 で、秒精度は 5 です。|  
|{インターバル -'16 23:39:56.23' 日から秒}|16 日、23 時間、39 分、および 56.23 秒を指定します。 暗黙の先行精度は 2 で、暗黙の秒精度は 6 です。|  
  
 次の表は、無効な間隔リテラルの例を示しています。  
  
|リテラルエスケープ句|無効な理由|  
|---------------------------|------------------------|  
|{インターバル '163' 時(2)}|間隔の先行精度は 2 ですが、先行フィールドの値は 163 です。|  
|{インターバル '223.16' 秒(2,2)}<br /><br /> {インターバル '223.16' 秒(3,1)}|最初の例では、先行する精度が小さすぎて、秒精度が小さすぎます。|  
|{インターバル '223.16' 秒}<br /><br /> {インターバル '223' 年}|先行する精度は指定されていないため、デフォルトは 2 で、指定されたリテラルを保持するには小さすぎます。|  
|{インターバル '22.1234567' 秒}|秒精度は指定されていないので、デフォルトで 6 になります。 リテラルの小数点以下の桁数は 7 桁です。|  
|{インターバル '163-13' 年(3) から月}<br /><br /> {インターバル '163 65' 日(3) から時間}<br /><br /> {インターバル '163 62:39' 日(3) から分}<br /><br /> {インターバル '163 12:125:59.163' DAY(3) から秒(3)}<br /><br /> {インターバル '163:144' 時(3) から分}<br /><br /> {インターバル '163:567:234.163' 時(3) から秒(4)}<br /><br /> {インターバル '163:591.163' 分(3) から秒(5)}|末尾のフィールドは、グレゴリオ暦の規則に従っていません。|
